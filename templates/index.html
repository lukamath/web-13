<!DOCTYPE html>
<html>
<head>
    <title>Kaz13</title>
</head>
<body>
    <div class="container mt-5">
        <h1>Kaz13</h1>
        <form method="POST" action="/submit">
            <div class="form-group">
                <label for="user">User:</label>
                <input type="text" id="user" name="user" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="message">Message (Max 10 words of 10 characters each):</label>
                <input type="text" id="message" name="message" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="timestamp">Date and Time:</label>
                <input type="text" id="timestamp" name="timestamp" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>

    <script>
        var messageInput = document.getElementById('message');
        var currentWordCount = 0;
        var currentCharCount = 0;

        messageInput.addEventListener('input', function () {
            var words = messageInput.value.trim().split(/\s+/);

            for (var i = 0; i < words.length; i++) {
                if (words[i].length > 10) {
                    words[i] = words[i].slice(0, 10);
                }
            }

            var charCount = words.join('').length;
            if (words.length > 10) {
                var extraWords = words.length - 10;
                words.splice(10, extraWords);
            }

            if (charCount > 100) {
                var charDiff = charCount - 100;
                var lastWord = words.pop();
                lastWord = lastWord.slice(0, -charDiff);
                words.push(lastWord);
            }

            messageInput.value = words.join(' ');
            currentWordCount = words.length;
            currentCharCount = charCount;
        });

        messageInput.addEventListener('keydown', function (event) {
            var words = messageInput.value.trim().split(/\s+/);
            if (currentWordCount >= 10 && event.keyCode !== 8) {
                event.preventDefault(); // Prevent typing more words
            }
            if (currentWordCount === 10 && currentCharCount >= 100 && event.keyCode !== 8) {
                event.preventDefault(); // Prevent typing more characters in the 10th word
            }
        });
    </script>
</body>
</html>
