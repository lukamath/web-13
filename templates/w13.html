<!DOCTYPE html>
<html>
<head>
    <title>Message Page</title>
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/mink.css') }}">
</head>
<body>
    <h1>Message Page</h1>
    <div id="message-container">
        <p id="message-text"></p>
        <span id="user-name"></span>
    </div>
    <script>
        function updateMessage() {
            fetch('/get_message')
                .then(response => response.json())
                .then(data => {
                    const messageContainer = document.getElementById('message-container');
                    const messageText = document.getElementById('message-text');
                    const userName = document.getElementById('user-name');
                    if (data.message) {
                        messageText.textContent = data.message;
                        userName.textContent = data.user;
                        messageContainer.style.display = 'block';
                    } else {
                        messageContainer.style.display = 'none';
                    }
                });
        }

        // Update the message every 15 sec
        setInterval(updateMessage, 15000);

        // Initial update
        updateMessage();
    </script>
</body>
</html>
